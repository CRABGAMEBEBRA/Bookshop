(()=>{"use strict";const i=[{image:"./images/banner_one.svg",circle_position1:"./images/Ellipse 4.svg",circle_position2:"./images/Ellipse 5.svg",circle_position3:"./images/Ellipse 5.svg"},{image:"./images/banner_two.svg",circle_position1:"./images/Ellipse 5.svg",circle_position2:"./images/Ellipse 4.svg",circle_position3:"./images/Ellipse 5.svg"},{image:"./images/banner_three.svg",circle_position1:"./images/Ellipse 5.svg",circle_position2:"./images/Ellipse 5.svg",circle_position3:"./images/Ellipse 4.svg"}];let e="Architecture",s=document.querySelector(".main-image");const n=document.querySelector(".main-circles-circle1"),c=document.querySelector(".main-circles-circle2"),o=document.querySelector(".main-circles-circle3"),t=document.querySelector(".main-books"),a=document.querySelector("header-icons");let r=0;function l(){const i='https://www.googleapis.com/books/v1/volumes?q="subject:'+e+'"&key=AIzaSyCWyyDEG2KbG8YO7Yy_OBNVT9N6Nf9zbGE&printType=books&startIndex='+r.toString()+"&maxResults=6&langRestrict=en";return new Promise(((e,s)=>{fetch(i).then((i=>i.json())).then((i=>{const s=i.items;return e(s)})).catch((i=>console.log(i.message)))}))}function m(i,e){let s="",n="<img src='./images/Star.svg'/>";if(null==e[i].volumeInfo.averageRating)for(let i=0;i<5;i++)s+=`<div class="main-books-stars-star">${n}</div>`;else for(let c=0;c<5;c++)c<e[i].volumeInfo.averageRating?s+="<div class=\"main-books-stars-star\"><img src='./images/Star (1).svg'/></div>":s+=`<div class="main-books-stars-star">${n}</div>`;return s}function g(i,e){let s,n="";return null==e[i].volumeInfo.ratingCount&&(s=0,n+="<div>0 review</div>"),n}function v(i,e){let s="";return null==e[i].volumeInfo.description?s+=`<div>${s} No review</div>`:s+=`<div>${e[i].volumeInfo.description} review</div>`,s}function d(i,e){let s="";return null==e[i].saleInfo.retailPrice?s+="<div>&#8381 0</div>":s+=`<div>&#8381 ${e[i].saleInfo.retailPrice.amount}</div>`,s}const u=i=>{i.then((i=>{for(let e=0;e<6;e++)t.innerHTML+=`\n              <div class="main-books__more">\n                  <div><img src="${i[e].volumeInfo.imageLinks.thumbnail}" alt="imgBook" class="main-books-cover"/></div>\n                  <div class="main-books-autor">${i[e].volumeInfo.authors[0]}</div>\n                  <div class="main-books-title">${i[e].volumeInfo.title}</div>\n                  <div class="main-books-star">${m(e,i)}</div>\n                  <div class="main-books-review">${g(e,i)}</div>\n                  <div class="main-books-description">${v(e,i)}</div>\n                  <div class="main-books-price">${d(e,i)}</div>\n                  <div class="main-books-buy">buy now</div>\n              </div>`;t.innerHTML+='<div class="main-loadMore">LOAD MORE</div>'}))};u(l()),document.addEventListener("click",(i=>{i.target.classList.contains("main-categories-titles")&&(t.innerHTML="",e=i.target.innerText,document.querySelector(".main-categories-titles.main-categories-titles_active").classList.remove("main-categories-titles_active"),i.target.classList.add("main-categories-titles_active"),u(l())),i.target.classList.contains("main-loadMore")&&(r+=6,document.querySelector(".main-loadMore").remove(),u(l())),i.target.classList.contains("main-books-buy")&&(a.innerHTML+='\n    <div class = "header-icons-circle">1</div>')}));let p=0;const _=e=>{s.innerHTML=`<img src="${i[e].image}" class = "main-image-image1"/>`,n.innerHTML=`<img src="${i[e].circle_position1}" class = "main-circle_position1" />`,c.innerHTML=`<img src="${i[e].circle_position2}" class = "main-circle_position2" />`,o.innerHTML=`<img src="${i[e].circle_position3}" class = "main-circle_position3" />`};s.innerHTML=`<img src="${i[p].image}" class = "main-image-image1"/>`,n.innerHTML=`<img src="${i[p].circle_position1}" class = "main-circle_position1" />`,c.innerHTML=`<img src="${i[p].circle_position2}" class = "main-circle_position2" />`,o.innerHTML=`<img src="${i[p].circle_position3}" class = "main-circle_position3" />`,n.addEventListener("click",(()=>{_(0),p=0})),c.addEventListener("click",(()=>{_(1),p=1})),o.addEventListener("click",(()=>{_(2),p=2})),setInterval((function(){3==p&&(p=0),s.innerHTML=`<img src="${i[p].image}" class = "main-image-image1"/>`,n.innerHTML=`<img src="${i[p].circle_position1}" class = "main-circle_position1" />`,c.innerHTML=`<img src="${i[p].circle_position2}" class = "main-circle_position2" />`,o.innerHTML=`<img src="${i[p].circle_position3}" class = "main-circle_position3" />`,p++}),5e3)})();